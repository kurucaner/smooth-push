"use strict";var U=Object.create;var f=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var X=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,j=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var O=(t,o,n)=>o in t?f(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,C=(t,o)=>{for(var n in o||(o={}))R.call(o,n)&&O(t,n,o[n]);if(A)for(var n of A(o))q.call(o,n)&&O(t,n,o[n]);return t};var B=(t,o)=>{for(var n in o)f(t,n,{get:o[n],enumerable:!0})},z=(t,o,n,h)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of X(o))!R.call(t,r)&&r!==n&&f(t,r,{get:()=>o[r],enumerable:!(h=_(o,r))||h.enumerable});return t};var J=(t,o,n)=>(n=t!=null?U(j(t)):{},z(o||!t||!t.__esModule?f(n,"default",{value:t,enumerable:!0}):n,t)),K=t=>z(f({},"__esModule",{value:!0}),t);var $={};B($,{SmoothPushProvider:()=>Y,show:()=>Z});module.exports=K($);var s=require("react"),u=require("react-native"),S=require("react-native-gesture-handler"),e=J(require("react-native-reanimated"));var i=require("react/jsx-runtime"),V,I=null,y=-180,Q=-55,p=400,W=(0,s.memo)(({type:t,message:o,textStyle:n})=>{let h=(0,e.useSharedValue)(0),r=(0,e.useSharedValue)(0),c=(0,e.useSharedValue)(0);(0,s.useEffect)(()=>{h.value=0,r.value=0,c.value=0,h.value=(0,e.withTiming)(1,{duration:400,easing:e.Easing.bezier(.34,1.56,.64,1)}),r.value=(0,e.withDelay)(100,(0,e.withTiming)(1,{duration:500,easing:e.Easing.bezier(.65,0,.35,1)})),c.value=(0,e.withDelay)(200,(0,e.withTiming)(1,{duration:300,easing:e.Easing.bezier(.4,0,.2,1)}))},[t,o]);let w=(0,e.useAnimatedStyle)(()=>({transform:[{scale:h.value}],backgroundColor:t==="success"?"#E7F6E7":"#FEE7E7"})),P=(0,e.useAnimatedStyle)(()=>({opacity:r.value,transform:[{scale:(0,e.interpolate)(r.value,[0,.6,1],[.6,1.1,1],e.Extrapolation.CLAMP)}]})),m=(0,e.useAnimatedStyle)(()=>({opacity:c.value,transform:[{translateX:(0,e.interpolate)(c.value,[0,1],[-10,0])}]})),g=(0,s.useMemo)(()=>t==="success"?(0,i.jsx)(u.Text,{style:[a.icon,a.successIcon],children:"\u2713"}):t==="error"?(0,i.jsx)(u.Text,{style:[a.icon,a.errorIcon],children:"\u2715"}):null,[t]);return o?(0,i.jsxs)(u.View,{style:a.smoothPushContainer,children:[(0,i.jsx)(e.default.View,{style:[a.iconContainer,w],children:(0,i.jsx)(e.default.View,{style:P,children:g})}),(0,i.jsx)(e.default.View,{style:[a.messageContainer,m],children:(0,i.jsx)(u.Text,{style:[a.toastMessage,n],numberOfLines:3,children:o})})]}):null});W.displayName="SmoothPush";var Y=(0,s.memo)(({defaultConfig:t})=>{let[o,n]=(0,s.useState)(null),[h,r]=(0,s.useState)(null),[c,w]=(0,s.useState)(t!=null?t:{}),{duration:P=6e3,position:m="top",offset:g=60,maxWidth:N=400,swipeThreshold:F=Q,stickColor:k="#ffcad4",onPress:v,onClose:T}=c,d=(0,e.useSharedValue)(y),b=(0,e.useSharedValue)(!1),x=(0,e.useSharedValue)(!1),E=(0,e.useAnimatedStyle)(()=>({transform:[{translateY:d.value}]})),H=S.Gesture.Pan().onStart(l=>{"worklet";b.value=!0,l.translationY=d.value}).onUpdate(l=>{"worklet";l.translationY>0?d.value=l.translationY/15:d.value=l.translationY}).onEnd(l=>{"worklet";b.value=!1,l.translationY<F?d.value=(0,e.withTiming)(y,{duration:p}):d.value=(0,e.withSpring)(0),x.value&&(d.value=(0,e.withTiming)(y,{duration:p}))}),D=()=>{d.value=(0,e.withTiming)(y,{duration:p}),T==null||T()};V=l=>{x.value=!1,I&&clearTimeout(I),r(l.toastType),n(l.message),w(C(C({},t),l.config)),d.value=(0,e.withTiming)(0,{duration:p}),I=setTimeout(()=>{b.value||D(),x.value=!0},P)};let L=()=>{v==null||v(),D()},M=(0,s.useMemo)(()=>[a.container,{[m]:g,maxWidth:N},c.containerStyle,E],[m,g,N,c.containerStyle,E]),G=(0,s.useMemo)(()=>[a.stick,{backgroundColor:k}],[k]);return(0,i.jsx)(S.GestureDetector,{gesture:H,children:(0,i.jsxs)(e.default.View,{style:M,children:[(0,i.jsx)(e.default.View,{style:a.blurContainer,children:(0,i.jsx)(u.Pressable,{onPress:L,style:a.notification,children:(0,i.jsx)(W,{type:h,message:o,textStyle:c.textStyle})})}),(0,i.jsx)(u.View,{style:G})]})})});Y.displayName="SmoothPushProvider";var a=u.StyleSheet.create({container:{width:"90%",maxWidth:400,position:"absolute",top:60,zIndex:9999,alignSelf:"center",borderRadius:10,overflow:"hidden",borderWidth:1,borderColor:"#f5f3f4"},blurContainer:{flex:1,backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:10,padding:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:5},notification:{flexDirection:"row",alignItems:"center",gap:12},stick:{height:4,width:40,position:"absolute",bottom:8,alignSelf:"center",borderRadius:2,backgroundColor:"#ffcad4"},notificationText:{flex:1,color:"#333333",fontSize:16},smoothPushContainer:{flexDirection:"row",alignItems:"center",gap:12,paddingVertical:8,paddingHorizontal:6},iconContainer:{width:28,height:28,borderRadius:14,justifyContent:"center",alignItems:"center"},icon:{fontSize:16,fontWeight:"700"},successIcon:{color:"#2E7D32"},errorIcon:{color:"#D32F2F"},messageContainer:{flex:1,paddingRight:4},toastMessage:{fontSize:14,lineHeight:18,color:"#1a1a1a",fontWeight:"500"}}),Z=t=>{V&&V(t)};0&&(module.exports={SmoothPushProvider,show});
