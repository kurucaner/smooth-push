"use strict";var K=Object.create;var p=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames,W=Object.getOwnPropertySymbols,$=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var Y=(t,e,i)=>e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,E=(t,e)=>{for(var i in e||(e={}))L.call(e,i)&&Y(t,i,e[i]);if(W)for(var i of W(e))j.call(e,i)&&Y(t,i,e[i]);return t};var tt=(t,e)=>{for(var i in e)p(t,i,{get:e[i],enumerable:!0})},F=(t,e,i,h)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Z(e))!L.call(t,r)&&r!==i&&p(t,r,{get:()=>e[r],enumerable:!(h=Q(e,r))||h.enumerable});return t};var M=(t,e,i)=>(i=t!=null?K($(t)):{},F(e||!t||!t.__esModule?p(i,"default",{value:t,enumerable:!0}):i,t)),et=t=>F(p({},"__esModule",{value:!0}),t);var nt={};tt(nt,{SmoothPushProvider:()=>G,show:()=>it});module.exports=et(nt);var a=require("react"),I=require("react-native"),b=require("react-native-gesture-handler"),n=M(require("react-native-reanimated"));var _=require("react-native"),s=_.StyleSheet.create({container:{width:"90%",maxWidth:400,position:"absolute",top:60,zIndex:9999,alignSelf:"center",borderRadius:10,overflow:"hidden",borderWidth:1,borderColor:"#f5f3f4"},blurContainer:{flex:1,backgroundColor:"rgb(255, 255, 255)",borderRadius:10,padding:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:5},notification:{flexDirection:"row",alignItems:"center",gap:12},stick:{height:4,width:40,position:"absolute",bottom:8,alignSelf:"center",borderRadius:2,backgroundColor:"#ffcad4"},smoothPushContainer:{flexDirection:"row",alignItems:"center",gap:12,paddingVertical:8,paddingHorizontal:6},iconContainer:{width:28,height:28,borderRadius:14,justifyContent:"center",alignItems:"center"},icon:{fontSize:16,fontWeight:"700"},successIcon:{color:"#2E7D32"},errorIcon:{color:"#D32F2F"},messageContainer:{flex:1,paddingRight:4},toastMessage:{fontSize:14,lineHeight:18,color:"#1a1a1a",fontWeight:"500"}});var v=require("react"),f=require("react-native"),o=M(require("react-native-reanimated"));var m=require("react/jsx-runtime"),D=(0,v.memo)(({type:t,message:e,textStyle:i})=>{let h=(0,o.useSharedValue)(0),r=(0,o.useSharedValue)(0),u=(0,o.useSharedValue)(0);(0,v.useEffect)(()=>{h.value=0,r.value=0,u.value=0,h.value=(0,o.withTiming)(1,{duration:400,easing:o.Easing.bezier(.34,1.56,.64,1)}),r.value=(0,o.withDelay)(100,(0,o.withTiming)(1,{duration:500,easing:o.Easing.bezier(.65,0,.35,1)})),u.value=(0,o.withDelay)(200,(0,o.withTiming)(1,{duration:300,easing:o.Easing.bezier(.4,0,.2,1)}))},[t,e]);let x=(0,o.useAnimatedStyle)(()=>({transform:[{scale:h.value}],backgroundColor:t==="success"?"#E7F6E7":"#FEE7E7"})),C=(0,o.useAnimatedStyle)(()=>({opacity:r.value,transform:[{scale:(0,o.interpolate)(r.value,[0,.6,1],[.6,1.1,1],o.Extrapolation.CLAMP)}]})),S=(0,o.useAnimatedStyle)(()=>({opacity:u.value,transform:[{translateX:(0,o.interpolate)(u.value,[0,1],[-10,0])}]})),g=()=>t==="success"?(0,m.jsx)(f.Text,{style:[s.icon,s.successIcon],children:"\u2713"}):t==="error"?(0,m.jsx)(f.Text,{style:[s.icon,s.errorIcon],children:"\u2715"}):null;return e?(0,m.jsxs)(f.View,{style:s.smoothPushContainer,children:[(0,m.jsx)(o.default.View,{style:[s.iconContainer,x],children:(0,m.jsx)(o.default.View,{style:C,children:g()})}),(0,m.jsx)(o.default.View,{style:[s.messageContainer,S],children:(0,m.jsx)(f.Text,{style:[s.toastMessage,i],numberOfLines:3,children:e})})]}):null});D.displayName="SmoothPush";var d=require("react/jsx-runtime"),R,O=null,G=(0,a.memo)(({defaultConfig:t})=>{let[e,i]=(0,a.useState)(null),[h,r]=(0,a.useState)(null),[u,x]=(0,a.useState)(t!=null?t:{}),{duration:C=6e3,position:S="top",offset:g=60,maxWidth:k=400,swipeThreshold:U=-55,stickColor:z="#ffcad4",onPress:y,onClose:P}=u,c=(0,n.useSharedValue)(-180),N=(0,n.useSharedValue)(!1),V=(0,n.useSharedValue)(!1),H=(0,n.useAnimatedStyle)(()=>({transform:[{translateY:c.value}]})),X=b.Gesture.Pan().onStart(l=>{N.value=!0,l.translationY=c.value}).onUpdate(l=>{l.translationY>0?c.value=l.translationY/15:c.value=l.translationY}).onEnd(l=>{N.value=!1,l.translationY<U?c.value=(0,n.withTiming)(-180,{duration:400}):c.value=(0,n.withSpring)(0),V.value&&(c.value=(0,n.withTiming)(-180,{duration:400}))}),A=(0,a.useCallback)(()=>{c.value=(0,n.withTiming)(-180,{duration:400}),P==null||P()},[P]),q=(0,a.useCallback)(()=>{y==null||y(),A()},[y,A]);R=l=>{V.value=!1,O&&clearTimeout(O),r(l.toastType),i(l.message),x(E(E({},t),l.config)),c.value=(0,n.withTiming)(0,{duration:400}),O=setTimeout(()=>{N.value||A(),V.value=!0},C)};let B=(0,a.useMemo)(()=>[s.container,{[S]:g,maxWidth:k},u.containerStyle,H],[S,g,k,u.containerStyle,H]),J=(0,a.useMemo)(()=>[s.stick,{backgroundColor:z}],[z]);return(0,d.jsx)(b.GestureDetector,{gesture:X,children:(0,d.jsxs)(n.default.View,{style:B,children:[(0,d.jsx)(n.default.View,{style:s.blurContainer,children:(0,d.jsx)(I.Pressable,{onPress:q,style:s.notification,children:(0,d.jsx)(D,{type:h,message:e,textStyle:u.textStyle})})}),(0,d.jsx)(I.View,{style:J})]})})});G.displayName="SmoothPushProvider";var it=t=>{R&&R(t)};0&&(module.exports={SmoothPushProvider,show});
