var B=Object.defineProperty;var z=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var W=(e,t,o)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,x=(e,t)=>{for(var o in t||(t={}))J.call(t,o)&&W(e,o,t[o]);if(z)for(var o of z(t))K.call(t,o)&&W(e,o,t[o]);return e};import{memo as H,useEffect as Q,useMemo as k,useState as C}from"react";import{Pressable as Z,StyleSheet as $,View as L,Text as I}from"react-native";import{Gesture as ee,GestureDetector as te}from"react-native-gesture-handler";import h,{Easing as V,Extrapolation as oe,interpolate as Y,useAnimatedStyle as p,useSharedValue as c,withDelay as F,withSpring as ne,withTiming as l}from"react-native-reanimated";import{jsx as s,jsxs as G}from"react/jsx-runtime";var E,N=null,g=-180,ie=-55,y=400,M=H(({type:e,message:t,textStyle:o})=>{let d=c(0),u=c(0),r=c(0);Q(()=>{d.value=0,u.value=0,r.value=0,d.value=l(1,{duration:400,easing:V.bezier(.34,1.56,.64,1)}),u.value=F(100,l(1,{duration:500,easing:V.bezier(.65,0,.35,1)})),r.value=F(200,l(1,{duration:300,easing:V.bezier(.4,0,.2,1)}))},[e,t]);let S=p(()=>({transform:[{scale:d.value}],backgroundColor:e==="success"?"#E7F6E7":"#FEE7E7"})),w=p(()=>({opacity:u.value,transform:[{scale:Y(u.value,[0,.6,1],[.6,1.1,1],oe.CLAMP)}]})),f=p(()=>({opacity:r.value,transform:[{translateX:Y(r.value,[0,1],[-10,0])}]})),m=k(()=>e==="success"?s(I,{style:[n.icon,n.successIcon],children:"\u2713"}):e==="error"?s(I,{style:[n.icon,n.errorIcon],children:"\u2715"}):null,[e]);return t?G(L,{style:n.smoothPushContainer,children:[s(h.View,{style:[n.iconContainer,S],children:s(h.View,{style:w,children:m})}),s(h.View,{style:[n.messageContainer,f],children:s(I,{style:[n.toastMessage,o],numberOfLines:3,children:t})})]}):null});M.displayName="SmoothPush";var se=H(({defaultConfig:e})=>{let[t,o]=C(null),[d,u]=C(null),[r,S]=C(e!=null?e:{}),{duration:w=6e3,position:f="top",offset:m=60,maxWidth:D=400,swipeThreshold:U=ie,stickColor:A="#ffcad4",onPress:P,onClose:v}=r,a=c(g),T=c(!1),b=c(!1),O=p(()=>({transform:[{translateY:a.value}]})),_=ee.Pan().onStart(i=>{"worklet";T.value=!0,i.translationY=a.value}).onUpdate(i=>{"worklet";i.translationY>0?a.value=i.translationY/15:a.value=i.translationY}).onEnd(i=>{"worklet";T.value=!1,i.translationY<U?a.value=l(g,{duration:y}):a.value=ne(0),b.value&&(a.value=l(g,{duration:y}))}),R=()=>{a.value=l(g,{duration:y}),v==null||v()};E=i=>{b.value=!1,N&&clearTimeout(N),u(i.toastType),o(i.message),S(x(x({},e),i.config)),a.value=l(0,{duration:y}),N=setTimeout(()=>{T.value||R(),b.value=!0},w)};let X=()=>{P==null||P(),R()},j=k(()=>[n.container,{[f]:m,maxWidth:D},r.containerStyle,O],[f,m,D,r.containerStyle,O]),q=k(()=>[n.stick,{backgroundColor:A}],[A]);return s(te,{gesture:_,children:G(h.View,{style:j,children:[s(h.View,{style:n.blurContainer,children:s(Z,{onPress:X,style:n.notification,children:s(M,{type:d,message:t,textStyle:r.textStyle})})}),s(L,{style:q})]})})});se.displayName="SmoothPushProvider";var n=$.create({container:{width:"90%",maxWidth:400,position:"absolute",top:60,zIndex:9999,alignSelf:"center",borderRadius:10,overflow:"hidden",borderWidth:1,borderColor:"#f5f3f4"},blurContainer:{flex:1,backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:10,padding:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:5},notification:{flexDirection:"row",alignItems:"center",gap:12},stick:{height:4,width:40,position:"absolute",bottom:8,alignSelf:"center",borderRadius:2,backgroundColor:"#ffcad4"},notificationText:{flex:1,color:"#333333",fontSize:16},smoothPushContainer:{flexDirection:"row",alignItems:"center",gap:12,paddingVertical:8,paddingHorizontal:6},iconContainer:{width:28,height:28,borderRadius:14,justifyContent:"center",alignItems:"center"},icon:{fontSize:16,fontWeight:"700"},successIcon:{color:"#2E7D32"},errorIcon:{color:"#D32F2F"},messageContainer:{flex:1,paddingRight:4},toastMessage:{fontSize:14,lineHeight:18,color:"#1a1a1a",fontWeight:"500"}}),he=e=>{E&&E(e)};export{se as SmoothPushProvider,he as show};
